/*
*  A simple assert implementation for LibreSignage.
*/

module.exports.AssertError = class AssertError extends Error {
	constructor(message, file, line) {
		super(message, file, line);
		if (Error.captureStackTrace) {
			Error.captureStackTrace(this, AssertError);
		}
	}
}

module.exports.assert = function(condition, msg) {
	if (!condition && msg) {
		throw new module.exports.AssertError(msg);
	} else if (!condition) {
		throw new module.exports.AssertError('Assert failed!');
	}
}
