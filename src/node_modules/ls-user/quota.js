/*
*  A Quota object for easily checking and handling user quotas.
*/

class Quota {
	constructor(data) {
		this.limits = data.limits;
		this.used = data.used;
	}

	has_quota(key, amount = 1) {
		/*
		*  Check whether there's quota left for a specific action.
		*/
		return this.limits[key].limit - this.used[key] >= amount;
	}

	get_keys()           { return Object.keys(this.limits);     }
	get_limit(key)       { return this.limits[key].limit;       }
	get_used(key)        { return this.used[key];               }
	get_description(key) { return this.limits[key].description; }
}
exports.Quota = Quota;
